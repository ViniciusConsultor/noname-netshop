<?xml version="1.0"?>
<configuration>
    <configSections>
        <sectionGroup name="system.web.extensions" type="System.Web.Configuration.SystemWebExtensionsSectionGroup, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35">
            <sectionGroup name="scripting" type="System.Web.Configuration.ScriptingSectionGroup, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35">
                <section name="scriptResourceHandler" type="System.Web.Configuration.ScriptingScriptResourceHandlerSection, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" requirePermission="false" allowDefinition="MachineToApplication"/>
                <sectionGroup name="webServices" type="System.Web.Configuration.ScriptingWebServicesSectionGroup, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35">
                    <section name="jsonSerialization" type="System.Web.Configuration.ScriptingJsonSerializationSection, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" requirePermission="false" allowDefinition="Everywhere"/>
                    <section name="profileService" type="System.Web.Configuration.ScriptingProfileServiceSection, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" requirePermission="false" allowDefinition="MachineToApplication"/>
                    <section name="authenticationService" type="System.Web.Configuration.ScriptingAuthenticationServiceSection, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" requirePermission="false" allowDefinition="MachineToApplication"/>
                    <section name="roleService" type="System.Web.Configuration.ScriptingRoleServiceSection, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" requirePermission="false" allowDefinition="MachineToApplication"/>
                </sectionGroup>
            </sectionGroup>
        </sectionGroup>
        <sectionGroup name="shopping">
            <section name="steps" type="NoName.NetShop.ShopFlow.Config.ShopStepSection,NoName.NetShop.ShopFlow"/>
        </sectionGroup>

        <section name="dataConfiguration" type="Microsoft.Practices.EnterpriseLibrary.Data.Configuration.DatabaseSettings,Microsoft.Practices.EnterpriseLibrary.Data"/>
        <sectionGroup name="publish">
			<section name="brandPublish" type="NoName.NetShop.Publish.Configuration.BrandConfigurationSection,NoName.NetShop.Publish"/>
            <section name="listPublish" type="NoName.NetShop.Publish.Configuration.ListConfigurationSection,NoName.NetShop.Publish"/>
            <section name="productPublish" type="NoName.NetShop.Publish.Configuration.ProductConfigurationSection,NoName.NetShop.Publish"/>
            <section name="newsPublish" type="NoName.NetShop.Publish.Configuration.NewsConfigurationSection,NoName.NetShop.Publish"/>
        </sectionGroup>

        <sectionGroup name="productImage">
            <section name="productMainImage" type="NoName.NetShop.Product.Config.ProductMainImageSection,NoName.NetShop.Product"/>
            <section name="productMultiImage" type="NoName.NetShop.Product.Config.ProductMultiImageSection,NoName.NetShop.Product"/>
            <section name="productDescriptionImage" type="NoName.NetShop.Product.Config.ProductDescriptionImageSection,NoName.NetShop.Product"/>
            <section name="magicWorldImage" type="NoName.NetShop.MagicWorld.Config.MagicWorldImageSection,NoName.NetShop.MagicWorld"/>
        </sectionGroup>
		<section name="commonImage" type="NoName.NetShop.Common.Configuration.CommonImageUploadSection,NoName.NetShop.Common"/>
        <sectionGroup name="newsUpload">
            <section name="newsImage" type="NoName.NetShop.News.Config.NewsImageSection,NoName.NetShop.News"/>
            <section name="newsVideo" type="NoName.NetShop.News.Config.NewsVideoSection,NoName.NetShop.News"/>
        </sectionGroup>
    </configSections>
    
    <shopping>
        <!-- 购物车步骤 -->
        <steps>
            <step key="commcart" description="通用购物车" stepCount="3" type="NoName.NetShop.ShopFlow.CommShopCart,NoName.NetShop.ShopFlow">
                <add key="showcart" url="/sp/ShowCart.aspx" description="" index="1"></add>
                <add key="fill" url="/sp/FillInfo.aspx" description="" index="2"></add>
                <add key="finish" url="/sp/FinishOrder.aspx" description="" index="3"></add>
            </step>
            <step key="giftcart" description="礼品兑换购物车" stepCount="3" type="NoName.NetShop.ShopFlow.GiftShopCart,NoName.NetShop.ShopFlow">
                <add key="fill" url="/sp/GiftShopping.aspx" description="" index="1"></add>
                <add key="finish" url="/sp/GiftFinish.aspx" description="" index="2"></add>
            </step>
        </steps>
    </shopping>
    <dataConfiguration defaultDatabase="NetShopDbReaderConn"/>
    <appSettings/>
    <connectionStrings>
        <add name="NetShopDbReaderConn" connectionString="server=test.uncc.cn,2565;uid=yangwei;pwd=yangwei;persist security info=False;initial catalog=NetShop;Max Pool Size=1000" providerName="System.Data.SqlClient"/>
        <add name="NetShopDbWriterConn" connectionString="server=test.uncc.cn,2565;uid=yangwei;pwd=yangwei;persist security info=False;initial catalog=NetShop;Max Pool Size=1000" providerName="System.Data.SqlClient"/>
    </connectionStrings>


    <publish>
		<brandPublish
            database="NetShopDbReaderConn"
            cacheTime="0"
            listPageSize="15"
            rootPath="F:\works\project\NetShop\src\NoName.NetShop.ForeFlat\List\"
            logger=""
            template="F:\works\project\NetShop\src\NoName.NetShop.ForeFlat\XsltTemplates\List.xslt"
            pageValidateTempXml="F:\works\project\NetShop\src\NoName.NetShop.ForeFlat\Common\commonPageValidate.xml"
            headerFile="F:\works\project\NetShop\src\NoName.NetShop.ForeFlat\Common\Header.html"
            footerFile="F:\works\project\NetShop\src\NoName.NetShop.ForeFlat\Common\Footer.html" />
        <listPublish 
            database="NetShopDbReaderConn" 
            cacheTime="0" 
            listPageSize="15" 
            rootPath="F:\works\project\NetShop\src\NoName.NetShop.ForeFlat\List\" 
            logger="" 
            template="F:\works\project\NetShop\src\NoName.NetShop.ForeFlat\XsltTemplates\List.xslt" 
            pageValidateTempXml="F:\works\project\NetShop\src\NoName.NetShop.ForeFlat\Common\commonPageValidate.xml" 
            headerFile="F:\works\project\NetShop\src\NoName.NetShop.ForeFlat\Common\Header.html"
            footerFile="F:\works\project\NetShop\src\NoName.NetShop.ForeFlat\Common\Footer.html" />
        <productPublish 
            database="NetShopDbReaderConn" 
            cacheTime="0"  
            rootPath="F:\works\project\NetShop\src\NoName.NetShop.ForeFlat\Product\" 
            logger="" 
            template="F:\works\project\NetShop\src\NoName.NetShop.ForeFlat\XsltTemplates\Product.xslt" 
            pageValidateTempXml="F:\works\project\NetShop\src\NoName.NetShop.ForeFlat\Common\commonPageValidate.xml" 
            headerFile="F:\works\project\NetShop\src\NoName.NetShop.ForeFlat\Common\Header.html"
            footerFile="F:\works\project\NetShop\src\NoName.NetShop.ForeFlat\Common\Footer.html"  />
        <newsPublish 
            database="NetShopDbReaderConn" 
            cacheTime="0" 
            listPageSize="15" 
            rootPath="F:\works\project\NetShop\src\NoName.NetShop.ForeFlat\News\" 
            logger=""
            pageValidateTempXml="F:\works\project\NetShop\src\NoName.NetShop.ForeFlat\Common\commonPageValidate.xml"
            headerFile="F:\works\project\NetShop\src\NoName.NetShop.ForeFlat\Common\Header.html"
            footerFile="F:\works\project\NetShop\src\NoName.NetShop.ForeFlat\Common\Footer.html" >
                <page type="list" template="F:\works\project\NetShop\src\NoName.NetShop.ForeFlat\XsltTemplates\NewsList.xslt" creatorType="NoName.NetShop.Publish.News.PageCreators.PageCreatorNewsDetail,NoName.NetShop.Publish" />
                <page type="detail" template="F:\works\project\NetShop\src\NoName.NetShop.ForeFlat\XsltTemplates\NewsDetail.xslt" creatorType="NoName.NetShop.Publish.News.PageCreators.PageCreatorNewsList,NoName.NetShop.Publish" />
        </newsPublish>
    </publish>

    <productImage>
        <productMainImage allowedFormat="jpg|jpeg|gif|bmp" maxSize="10240" rule="product-{0}-{1}.{2}" pathRoot="F:\works\project\NetShop\src\NoName.NetShop.ForeFlat\Upload\ProductMain\" urlRoot="http://localhost/Upload/ProductMain/">
            <add key="smallImage" width="80"  height="80" suffix="S" />
            <add key="mediumImage" width="160"  height="160" suffix="M"/>
            <add key="largeImage" width="320"  height="320" suffix="L"/>
        </productMainImage>
        <productMultiImage allowedFormat="jpg|jpeg|gif|bmp" maxSize="10240" rule="product-{0}-{1}-{2}.{3}" pathRoot="F:\works\NetShop\src\NoName.NetShop.ForeFlat\Upload\ProductMulti\" urlRoot="http://localhost/Upload/ProductMulti/">
            <add key="smallImage" width="80"  height="80" suffix="S" />
            <add key="largeImage" width="320"  height="320" suffix="L"/>
            <add key="originalImage" width="-1"  height="-1" suffix="O"/>
        </productMultiImage>
        <productDescriptionImage allowedFormat="jpg|jpeg|gif|bmp" maxSize="1000" rule="{0}.{1}" pathRoot="F:\works\NetShop\src\NoName.NetShop.ForeFlat\Upload\Description" urlRoot="http://localhost/Upload/Description/"/>
        <magicWorldImage allowedFormat="jpg|jpeg|gif|bmp" maxSize="10240" rule="magic-{0}-{1}-{2}.{3}" pathRoot="F:\works\project\NetShop\src\NoName.NetShop.ForeFlat\Upload\MagicWorld\" urlRoot="http://localhost/Upload/MagicWorld/">
            <add key="smallImage" width="80" height="80" suffix="S"/>
            <add key="largeImage" width="320" height="320" suffix="L"/>
            <add key="originalImage" width="-1" height="-1" suffix="O"/>
        </magicWorldImage>
    </productImage>

	<commonImage pathRoot="F:\works\NetShop\src\NoName.NetShop.ForeFlat\Upload\Common\" allowedFormat="jpg|jpeg|gif|bmp" imageFileMaxSize="10240" urlRoot="http://10.215.90.153:81/Upload/common/" urlPrefix="http://10.215.90.153:81/Upload/common/" />

    <newsUpload>
        <newsImage allowedFormat="jpg|jpeg|gif|bmp" maxSize="10240" rule="news-{0}--{1}.{2}" pathRoot="E:\works\project\NetShop\src\NoName.NetShop.ForeFlat\Upload\News\Images" urlRoot="http://localhost/Upload/News/Images/"/>
        <newsVideo allowedFormat="avi|wmv|rmvb" maxSize="1073741824" rule="news-{0}--{1}.{2}" pathRoot="E:\works\project\NetShop\src\NoName.NetShop.ForeFlat\Upload\News\Videos\" tempFolder="E:\works\project\NetShop\src\NoName.NetShop.ForeFlat\Upload\News\Temp\" urlRoot="http://localhost/Upload/News/Videos/"/>
    </newsUpload>

    <system.web>
        <!-- 
            设置 compilation debug="true" 可将调试符号插入
            已编译的页面中。但由于这会 
            影响性能，因此只在开发过程中将此值 
            设置为 true。
        -->
        <compilation debug="true">
            <assemblies>
                <add assembly="System.Core, Version=3.5.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089"/>
                <add assembly="System.Data.DataSetExtensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089"/>
                <add assembly="System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
                <add assembly="System.Xml.Linq, Version=3.5.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089"/>

                <add assembly="System.Web.DynamicData, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
                <add assembly="System.Web.Routing, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
                <add assembly="System.Web.Abstractions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
                <add assembly="System.ComponentModel.DataAnnotations, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
                <add assembly="System.Data.Linq, Version=3.5.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089"/>
                <add assembly="System.Data.Entity, Version=3.5.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089"/>
            </assemblies>
        </compilation>
        <!--
            通过 <authentication> 节可以配置 ASP.NET 用来 
            识别进入用户的
            安全身份验证模式。 
        -->
        <authentication mode="Forms">
            <forms loginUrl="Login.aspx" defaultUrl="default.aspx" protection="All"></forms>
        </authentication>
        <!--
            如果在执行请求的过程中出现未处理的错误，
            则通过 <customErrors> 节可以配置相应的处理步骤。具体说来，
            开发人员通过该节可以配置
            要显示的 html 错误页
            以代替错误堆栈跟踪。

        <customErrors mode="RemoteOnly" defaultRedirect="GenericErrorPage.htm">
            <error statusCode="403" redirect="NoAccess.htm" />
            <error statusCode="404" redirect="FileNotFound.htm" />
        </customErrors>
        -->
        <pages>
            <controls>
                <add tagPrefix="asp" namespace="System.Web.UI" assembly="System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
                <add tagPrefix="asp" namespace="System.Web.UI.WebControls" assembly="System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
            </controls>
        </pages>
        <httpHandlers>
            <remove verb="*" path="*.asmx"/>
            <add verb="*" path="*.asmx" validate="false" type="System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
            <add verb="*" path="*_AppService.axd" validate="false" type="System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
            <add verb="GET,HEAD" path="ScriptResource.axd" type="System.Web.Handlers.ScriptResourceHandler, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" validate="false"/>
            <!--发布部分-->
			<add path="*.brand" verb="*" type="NoName.NetShop.Publish.PublishHanlder,NoName.NetShop.Publish"/>
            <add path="*.list" verb="*" type="NoName.NetShop.Publish.PublishHanlder,NoName.NetShop.Publish"/>
            <add path="*.product" verb="*" type="NoName.NetShop.Publish.PublishHanlder,NoName.NetShop.Publish"/>
            <add path="*.news" verb="*" type="NoName.NetShop.Publish.PublishHanlder,NoName.NetShop.Publish"/>
            <add path="*.newslist" verb="*" type="NoName.NetShop.Publish.PublishHanlder,NoName.NetShop.Publish"/>
        </httpHandlers>
        <httpModules>
            <add name="ScriptModule" type="System.Web.Handlers.ScriptModule, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
        </httpModules>

    </system.web>
    <system.codedom>
        <compilers>
            <compiler language="c#;cs;csharp" extension=".cs" warningLevel="4" type="Microsoft.CSharp.CSharpCodeProvider, System, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
                <providerOption name="CompilerVersion" value="v3.5"/>
                <providerOption name="WarnAsError" value="false"/>
            </compiler>
        </compilers>
    </system.codedom>
    <!-- 
        在 Internet 信息服务 7.0 下运行 ASP.NET AJAX 需要 system.webServer
        节。对早期版本的 IIS 来说则不需要此节。
    -->
    <system.webServer>
        <validation validateIntegratedModeConfiguration="false"/>
        <modules>
            <remove name="ScriptModule"/>
            <add name="ScriptModule" preCondition="managedHandler" type="System.Web.Handlers.ScriptModule, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
        </modules>
        <handlers>
            <remove name="WebServiceHandlerFactory-Integrated"/>
            <remove name="ScriptHandlerFactory"/>
            <remove name="ScriptHandlerFactoryAppServices"/>
            <remove name="ScriptResource"/>
            <add name="ScriptHandlerFactory" verb="*" path="*.asmx" preCondition="integratedMode" type="System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
            <add name="ScriptHandlerFactoryAppServices" verb="*" path="*_AppService.axd" preCondition="integratedMode" type="System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
            <add name="ScriptResource" preCondition="integratedMode" verb="GET,HEAD" path="ScriptResource.axd" type="System.Web.Handlers.ScriptResourceHandler, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
        </handlers>
    </system.webServer>
    <runtime>
        <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
            <dependentAssembly>
                <assemblyIdentity name="System.Web.Extensions" publicKeyToken="31bf3856ad364e35"/>
                <bindingRedirect oldVersion="1.0.0.0-1.1.0.0" newVersion="3.5.0.0"/>
            </dependentAssembly>
            <dependentAssembly>
                <assemblyIdentity name="System.Web.Extensions.Design" publicKeyToken="31bf3856ad364e35"/>
                <bindingRedirect oldVersion="1.0.0.0-1.1.0.0" newVersion="3.5.0.0"/>
            </dependentAssembly>
        </assemblyBinding>
    </runtime>
    <location path="member">
        <system.web>
            <authorization>
                <deny users="?"/>
            </authorization>
        </system.web>
    </location>
    <location path="sp">
        <system.web>
            <authorization>
                <deny users="?"/>
            </authorization>
        </system.web>
    </location>
</configuration>