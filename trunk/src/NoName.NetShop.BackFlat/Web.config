<?xml version="1.0" encoding="utf-8"?>

<configuration>


    <configSections>
        <sectionGroup name="system.web.extensions" type="System.Web.Configuration.SystemWebExtensionsSectionGroup, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35">
            <sectionGroup name="scripting" type="System.Web.Configuration.ScriptingSectionGroup, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35">
                <section name="scriptResourceHandler" type="System.Web.Configuration.ScriptingScriptResourceHandlerSection, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" requirePermission="false" allowDefinition="MachineToApplication"/>
                <sectionGroup name="webServices" type="System.Web.Configuration.ScriptingWebServicesSectionGroup, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35">
                    <section name="jsonSerialization" type="System.Web.Configuration.ScriptingJsonSerializationSection, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" requirePermission="false" allowDefinition="Everywhere" />
                    <section name="profileService" type="System.Web.Configuration.ScriptingProfileServiceSection, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" requirePermission="false" allowDefinition="MachineToApplication" />
                    <section name="authenticationService" type="System.Web.Configuration.ScriptingAuthenticationServiceSection, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" requirePermission="false" allowDefinition="MachineToApplication" />
                    <section name="roleService" type="System.Web.Configuration.ScriptingRoleServiceSection, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" requirePermission="false" allowDefinition="MachineToApplication" />
                </sectionGroup>
            </sectionGroup>
        </sectionGroup>
        <section name="dataConfiguration" type="Microsoft.Practices.EnterpriseLibrary.Data.Configuration.DatabaseSettings, Microsoft.Practices.EnterpriseLibrary.Data" />
      <section name="alipaySetting" type="System.Configuration.SingleTagSectionHandler"/>
      <sectionGroup name="publish">
			<section name="brandPublish" type="NoName.NetShop.Publish.Configuration.BrandConfigurationSection,NoName.NetShop.Publish"/>
            <section name="listPublish" type="NoName.NetShop.Publish.Configuration.ListConfigurationSection,NoName.NetShop.Publish"/>
            <section name="productPublish" type="NoName.NetShop.Publish.Configuration.ProductConfigurationSection,NoName.NetShop.Publish"/>
            <section name="newsPublish" type="NoName.NetShop.Publish.Configuration.NewsConfigurationSection,NoName.NetShop.Publish"/>
        </sectionGroup>
	<sectionGroup name="shopping">
		<section name="steps" type="NoName.NetShop.ShopFlow.Config.ShopStepSection,NoName.NetShop.ShopFlow"/>
            <section name="smtp" type="System.Configuration.SingleTagSectionHandler"/>
	</sectionGroup>
    <sectionGroup name="productImage">
      <section name="productMainImage" type="NoName.NetShop.Product.Config.ProductMainImageSection,NoName.NetShop.Product"/>
      <section name="productMultiImage" type="NoName.NetShop.Product.Config.ProductMultiImageSection,NoName.NetShop.Product"/>
      <section name="productDescriptionImage" type="NoName.NetShop.Product.Config.ProductDescriptionImageSection,NoName.NetShop.Product"/>
            <section name="magicWorldImage" type="NoName.NetShop.MagicWorld.Config.MagicWorldImageSection,NoName.NetShop.MagicWorld"/>
    </sectionGroup>
		<section name="commonImage" type="NoName.NetShop.Common.Configuration.CommonImageUploadSection,NoName.NetShop.Common"/>
        <sectionGroup name="newsUpload">
            <section name="newsImage" type="NoName.NetShop.News.Config.NewsImageSection,NoName.NetShop.News"/>
            <section name="newsVideo" type="NoName.NetShop.News.Config.NewsVideoSection,NoName.NetShop.News"/>
        </sectionGroup>
		
    <section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler, log4net"/>
	</configSections>
	
  <log4net>
    <root>
      <level value="INFO" />
      <appender-ref ref="RollingLogFileAppender" />
    </root>
    <logger name="AlipayNotify">
      <level value="INFO" />
      <appender-ref ref="XftPaygateLogAppender" />
    </logger>
    <appender name="RollingLogFileAppender" type="log4net.Appender.RollingFileAppender">
      <param name="File" value="log/mall" />
      <param name="AppendToFile" value="true" />
      <param name="MaxSizeRollBackups" value="10" />
      <param name="StaticLogFileName" value="false" />
      <param name="DatePattern" value="yyyyMMdd&quot;.log&quot;" />
      <param name="RollingStyle" value="Date" />
      <layout type="log4net.Layout.PatternLayout">
        <param name="ConversionPattern" value="%d  [%t]  %-5p  %c  [%x]  -  %m%n" />
      </layout>
    </appender>
    <appender  name="XftPaygateLogAppender"  type="log4net.Appender.RollingFileAppender">
      <param  name="File"  value="log/ali"  />
      <param  name="AppendToFile"  value="true"  />
      <param  name="MaxSizeRollBackups"  value="10"  />
      <param name="MaximumFileSize" value="10MB" />
      <param  name="StaticLogFileName"  value="false"  />
      <param  name="DatePattern"  value="yyyyMMdd&quot;.log&quot;"  />
      <param  name="RollingStyle"  value="Date"  />
      <layout  type="log4net.Layout.PatternLayout">
        <param  name="ConversionPattern"  value="%d  [%t]  %-5p  %c  [%x]  -  %m%n"  />
      </layout>
    </appender>
  </log4net>

    <dataConfiguration defaultDatabase="NetShopDbReaderConn"/>
	<shopping>
		<steps>
			<step key="commcart" description="通用购物车" stepCount="3" type="NoName.NetShop.ShopFlow.CommShopCart,NoName.NetShop.ShopFlow">
				<add key="showcart" url="/sp/ShowCart.aspx" description="" index="1"></add>
				<add key="fill" url="/sp/FillInfo.aspx" description="" index="2"></add>
				<add key="finish" url="/sp/FinishOrder.aspx" description="" index="3"></add>
			</step>
      <step key="giftcart" description="积分兑换购物车" stepCount="3" type="NoName.NetShop.ShopFlow.GiftShopCart,NoName.NetShop.ShopFlow">
        <add key="fill" url="/sp/GiftShopping.aspx" description="" index="1"></add>
        <add key="finish" url="/sp/GiftFinish.aspx" description="" index="2"></add>
      </step>
          <step key="classic" description="经典套装购物车" stepCount="3" type="NoName.NetShop.ShopFlow.CommShopCart,NoName.NetShop.ShopFlow">
            <add key="showcart" url="/sp/ShowSuitCart.aspx" description="" index="1"></add>
            <add key="fill" url="/sp/FillInfo.aspx" description="" index="2"></add>
            <add key="finish" url="/sp/FinishOrder.aspx" description="" index="3"></add>
          </step>
          <step key="suit" description="推荐套装购物车" stepCount="3" type="NoName.NetShop.ShopFlow.SuitShopCart,NoName.NetShop.ShopFlow">
            <add key="showcart" url="/sp/ShowSuitCart.aspx" description="" index="1"></add>
            <add key="fill" url="/sp/FillInfo.aspx" description="" index="2"></add>
            <add key="finish" url="/sp/FinishOrder.aspx" description="" index="3"></add>
          </step>

		</steps>
      <smtp domain="smtp.126.com" port="25" username="mincyw" password="nopassword" cc="mincyw@163.com" from="mincyw@126.com"
             fromname="test" reply="mincyw@126.com"/>

	</shopping>


    <newsUpload>
        <newsImage allowedFormat="jpg|jpeg|gif|bmp" maxSize="10240" rule="news-{0}--{1}.{2}" pathRoot="F:\site\yangwei\foreflat\Upload\News\Images\" urlRoot="http://dingding.uncc.cn/Upload/News/Images/"/>
        <newsVideo allowedFormat="avi|wmv|rmvb" maxSize="1073741824" rule="news-{0}--{1}.{2}" pathRoot="F:\site\yangwei\foreflat\Upload\News\Videos\" tempFolder="F:\site\yangwei\foreflat\Upload\News\Temp\" urlRoot="http://dingding.uncc.cn/Upload/News/Videos/"/>
    </newsUpload>


    <appSettings>
	<add key="foreFlatRootUrl" value="http://dingding.uncc.cn" />
    <add key="userkey" value="asdfasfj12faskdfj" />
    </appSettings>

    <connectionStrings>
		<add name="NetShopDbReaderConn" connectionString="server=test.uncc.cn,2565;uid=yangwei;pwd=yangwei;persist security info=False;initial catalog=NetShop;Max Pool Size=1000" providerName="System.Data.SqlClient"/>
		<add name="NetShopDbWriterConn" connectionString="server=test.uncc.cn,2565;uid=yangwei;pwd=yangwei;persist security info=False;initial catalog=NetShop;Max Pool Size=1000" providerName="System.Data.SqlClient"/>

    </connectionStrings>


  <alipaySetting
verifyUrl="https://www.alipay.com/cooperate/gateway.do"
pushUrl="https://www.alipay.com/cooperate/gateway.do"
notifyUrl="http://dingding.uncc.cn/alipay/Notify.aspx"
returnUrl="http://dingding.uncc.cn/alipay/ShowPayReturn.aspx"
partner="2088202913438402"
key="36w6w5qwb3oh0mmoqmf2srrhhzqhjnz8"
seller_email="dingding360@yahoo.cn"
seller_id="13911161273"
sign_type="MD5"
/>

    <publish>
		<brandPublish
            database="NetShopDbReaderConn"
            cacheTime="0"
            listPageSize="15"
            rootPath="F:\site\yangwei\foreflat\Publish\Brand\"
            logger=""
            template="F:\site\yangwei\foreflat\XsltTemplates\Brand.xslt"
            pageValidateTempXml="F:\site\yangwei\foreflat\Common\commonPageValidate.xml"
            headerFile="F:\site\yangwei\foreflat\Common\Header.html"
            footerFile="F:\site\yangwei\foreflat\Common\Footer.html" />
        <listPublish 
            database="NetShopDbReaderConn" 
            cacheTime="0" 
            listPageSize="15" 
            rootPath="F:\site\yangwei\foreflat\Publish\List\" 
            logger="" 
            template="F:\site\yangwei\foreflat\XsltTemplates\List.xslt" 
            pageValidateTempXml="F:\site\yangwei\foreflat\Common\commonPageValidate.xml" 
            headerFile="F:\site\yangwei\foreflat\Common\Header.html"
            footerFile="F:\site\yangwei\foreflat\Common\Footer.html" />
        <productPublish 
            database="NetShopDbReaderConn" 
            cacheTime="0"  
            rootPath="F:\site\yangwei\foreflat\Publish\Product\" 
            logger="" 
            template="F:\site\yangwei\foreflat\XsltTemplates\Product.xslt" 
            pageValidateTempXml="F:\site\yangwei\foreflat\Common\commonPageValidate.xml" 
            headerFile="F:\site\yangwei\foreflat\Common\Header.html"
            footerFile="F:\site\yangwei\foreflat\Common\Footer.html"  />
        <newsPublish 
            database="NetShopDbReaderConn" 
            cacheTime="0" 
            listPageSize="15" 
            rootPath="F:\site\yangwei\foreflat\Publish\News\" 
            logger=""
            pageValidateTempXml="F:\site\yangwei\foreflat\Common\commonPageValidate.xml"
            headerFile="F:\site\yangwei\foreflat\Common\Header.html"
            footerFile="F:\site\yangwei\foreflat\Common\Footer.html" >
                <page type="list" template="F:\site\yangwei\foreflat\XsltTemplates\NewsList.xslt" creatorType="NoName.NetShop.Publish.News.PageCreators.PageCreatorNewsDetail,NoName.NetShop.Publish" />
                <page type="detail" template="F:\site\yangwei\foreflat\XsltTemplates\NewsDetail.xslt" creatorType="NoName.NetShop.Publish.News.PageCreators.PageCreatorNewsList,NoName.NetShop.Publish" />
        </newsPublish>
    </publish>

	<productImage>
    <productMainImage allowedFormat="jpg|jpeg|gif|bmp" maxSize="10240" rule="product-{0}-{1}.{2}" pathRoot="F:\site\yangwei\ForeFlat\Upload\ProductMain\" urlRoot="http://dingding.uncc.cn/Upload/ProductMain/">
      <add key="smallImage" width="80"  height="80" suffix="S" />
      <add key="mediumImage" width="160"  height="160" suffix="M"/>
      <add key="largeImage" width="320"  height="320" suffix="L"/>
    </productMainImage>
    <productMultiImage allowedFormat="jpg|jpeg|gif|bmp" maxSize="10240" rule="product-{0}-{1}-{2}.{3}" pathRoot="F:\site\yangwei\ForeFlat\Upload\ProductMulti\" urlRoot="http://dingding.uncc.cn/Upload/ProductMulti/">
      <add key="smallImage" width="80"  height="80" suffix="S" />
      <add key="largeImage" width="320"  height="320" suffix="L"/>
      <add key="originalImage" width="-1"  height="-1" suffix="O"/>
    </productMultiImage>
    <productDescriptionImage allowedFormat="jpg|jpeg|gif|bmp" maxSize="1000" rule="{0}.{1}" pathRoot="F:\site\yangwei\ForeFlat\Upload\Description" urlRoot="http://dingding.uncc.cn/Upload/Description/"/>
        <magicWorldImage allowedFormat="jpg|jpeg|gif|bmp" maxSize="10240" rule="magic-{0}-{1}-{2}.{3}" pathRoot="F:\site\yangwei\foreflat\Upload\MagicWorld\" urlRoot="http://dingding.uncc.cn/Upload/MagicWorld/">
            <add key="smallImage" width="80"  height="80" suffix="S" />
            <add key="largeImage" width="320"  height="320" suffix="L"/>
            <add key="originalImage" width="-1"  height="-1" suffix="O"/>
        </magicWorldImage>
	</productImage>

	<commonImage pathRoot="F:\site\yangwei\ForeFlat\Upload\Common\" allowedFormat="jpg|jpeg|gif|bmp" imageFileMaxSize="10240" urlRoot="http://dingding.uncc.cn/Upload/common/" urlPrefix="http://dingding.uncc.cn/Upload/common/" />
    <system.web>
        <compilation debug="false">

            <assemblies>
                <add assembly="System.Core, Version=3.5.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089"/>
                <add assembly="System.Data.DataSetExtensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089"/>
                <add assembly="System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
            </assemblies>

        </compilation>

		<authentication mode="Forms">
			<forms loginUrl="Login.aspx" defaultUrl="index.shtml" protection="All"></forms>
		</authentication>

        <customErrors mode="Off"/>

        <pages>
            <controls>
                <add tagPrefix="asp" namespace="System.Web.UI" assembly="System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
                <add tagPrefix="asp" namespace="System.Web.UI.WebControls" assembly="System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
            </controls>
        </pages>

        <httpHandlers>
            <remove verb="*" path="*.asmx"/>
            <add verb="*" path="*.asmx" validate="false" type="System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
            <add verb="*" path="*_AppService.axd" validate="false" type="System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
            <add verb="GET,HEAD" path="ScriptResource.axd" type="System.Web.Handlers.ScriptResourceHandler, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" validate="false"/>
      <add verb="*" path="*.brand" type="NoName.NetShop.Publish.PublishHanlder,NoName.NetShop.Publish"/>
      <add verb="*" path="*.list" type="NoName.NetShop.Publish.PublishHanlder,NoName.NetShop.Publish"/>
      <add verb="*" path="*.product" type="NoName.NetShop.Publish.PublishHanlder,NoName.NetShop.Publish"/>
      <add verb="*" path="*.news" type="NoName.NetShop.Publish.PublishHanlder,NoName.NetShop.Publish"/>
      <add verb="*" path="*.newslist" type="NoName.NetShop.Publish.PublishHanlder,NoName.NetShop.Publish"/>
        </httpHandlers>
        <httpModules>
            <add name="ScriptModule" type="System.Web.Handlers.ScriptModule, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>

        </httpModules>

    </system.web>

    <system.codedom>
        <compilers>
            <compiler language="c#;cs;csharp" extension=".cs" warningLevel="4" type="Microsoft.CSharp.CSharpCodeProvider, System, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
                <providerOption name="CompilerVersion" value="v3.5"/>
                <providerOption name="WarnAsError" value="false"/>
            </compiler>
        </compilers>
    </system.codedom>

    <system.webServer>
        <validation validateIntegratedModeConfiguration="false"/>
        <modules>
            <remove name="ScriptModule" />
            <add name="ScriptModule" preCondition="managedHandler" type="System.Web.Handlers.ScriptModule, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
        </modules>
        <handlers>
            <remove name="WebServiceHandlerFactory-Integrated"/>
            <remove name="ScriptHandlerFactory" />
            <remove name="ScriptHandlerFactoryAppServices" />
            <remove name="ScriptResource" />
            <add name="ScriptHandlerFactory" verb="*" path="*.asmx" preCondition="integratedMode" type="System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
            <add name="ScriptHandlerFactoryAppServices" verb="*" path="*_AppService.axd" preCondition="integratedMode" type="System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
            <add name="ScriptResource" preCondition="integratedMode" verb="GET,HEAD" path="ScriptResource.axd" type="System.Web.Handlers.ScriptResourceHandler, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" />
            <!-- -->
            <add name="list" path="*.list" verb="*" type="NoName.NetShop.Publish.PublishHanlder" resourceType="Unspecified" preCondition="integratedMode" />
            <add name="product" path="*.product" verb="*" type="NoName.NetShop.Publish.PublishHanlder" resourceType="Unspecified" preCondition="integratedMode" />
        </handlers>
    </system.webServer>

    <runtime>
        <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
            <dependentAssembly>
                <assemblyIdentity name="System.Web.Extensions" publicKeyToken="31bf3856ad364e35"/>
                <bindingRedirect oldVersion="1.0.0.0-1.1.0.0" newVersion="3.5.0.0"/>
            </dependentAssembly>
            <dependentAssembly>
                <assemblyIdentity name="System.Web.Extensions.Design" publicKeyToken="31bf3856ad364e35"/>
                <bindingRedirect oldVersion="1.0.0.0-1.1.0.0" newVersion="3.5.0.0"/>
            </dependentAssembly>
        </assemblyBinding>
    </runtime>

	<location path="member">
		<system.web>
			<authorization>
				<deny users="?"/>
			</authorization>
		</system.web>
	</location>
	<location path="sp">
		<system.web>
			<authorization>
				<deny users="?"/>
			</authorization>
		</system.web>
	</location>

</configuration>
